<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XsearchLIBRIS • XsearchLIBRIS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="XsearchLIBRIS">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">XsearchLIBRIS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/XsearchLIBRIS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/KTH-Library/XsearchLIBRIS">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>XsearchLIBRIS</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/KTH-Library/XsearchLIBRIS/blob/master/vignettes/XsearchLIBRIS.Rmd"><code>vignettes/XsearchLIBRIS.Rmd</code></a></small>
      <div class="hidden name"><code>XsearchLIBRIS.Rmd</code></div>

    </div>

    
    
<p>The goal of XsearchLIBRIS is to provide access to search results from LIBRIS Xsearch API directly in R.</p>
<p>LIBRIS is an online search service of the National Library of Sweden. Search national, academic, and several public libraries of Sweden for books, periodicals, articles, maps, posters, printed music, electronic resources, and more.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the latest version of XsearchLIBRIS from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co">#install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">install_github</span>(<span class="st">"KTH-Library/XsearchLIBRIS"</span>, <span class="dt">dependencies =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The database used can be specified - the default is to use LIBRIS but “swepub” is also available.</p>
<p>This is a basic example which shows you how make a search:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(XsearchLIBRIS)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr))</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(knitr)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># search and display first two hits for "film noir"</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="kw"><a href="../reference/xsearch.html">xsearch</a></span>(<span class="dt">query =</span> <span class="st">"WAMK:</span><span class="ch">\"</span><span class="st">film noir</span><span class="ch">\"</span><span class="st">"</span>)<span class="op">$</span>content <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>))</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">identifier</th>
<th align="left">title</th>
<th align="left">type</th>
<th align="left">language</th>
<th align="left">description</th>
<th align="left">creator</th>
<th align="left">publisher</th>
<th align="left">date</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="http://libris.kb.se/bib/q145b4zln539zndk" class="uri">http://libris.kb.se/bib/q145b4zln539zndk</a></td>
<td align="left">Hong Kong neo-noir</td>
<td align="left">book</td>
<td align="left">eng</td>
<td align="left">Imported from: zcat.oclc.org:210/OLUCWorldCat (Do not remove)</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left"><a href="http://libris.kb.se/bib/2br62c3l0v6b86xv" class="uri">http://libris.kb.se/bib/2br62c3l0v6b86xv</a></td>
<td align="left">Classic French noir : gender and the cinema of fatal desire</td>
<td align="left">book</td>
<td align="left">eng</td>
<td align="left">Imported from: zcat.oclc.org:210/OLUCWorldCat (Do not remove)</td>
<td align="left">Walker-Morrison, Deborah</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"> </a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># search for publications by Vitruvius in Swedish</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">"PERS:(vitruvius) SPR:swe"</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/xsearch.html">xsearch</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span>.<span class="op">$</span>content <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">identifier</th>
<th align="left">title</th>
<th align="left">creator</th>
<th align="left">type</th>
<th align="left">language</th>
<th align="left">description</th>
<th align="left">relation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="http://libris.kb.se/bib/11641320" class="uri">http://libris.kb.se/bib/11641320</a></td>
<td align="left">Om arkitektur : tio böcker</td>
<td align="left">Vitruvius, århundradet f.Kr.</td>
<td align="left">book</td>
<td align="left">swe</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left"><a href="http://libris.kb.se/bib/7678737" class="uri">http://libris.kb.se/bib/7678737</a></td>
<td align="left">Om arkitektur : tio böcker</td>
<td align="left">Vitruvius, århundradet f.Kr.</td>
<td align="left">book</td>
<td align="left">swe</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left"><a href="http://libris.kb.se/bib/12624220" class="uri">http://libris.kb.se/bib/12624220</a></td>
<td align="left">Om arkitektur [Ljudupptagning] tio böcker</td>
<td align="left">Vitruvius Pollio, Marcus</td>
<td align="left">sound recording</td>
<td align="left">swe</td>
<td align="left">MTM MarcRecordId: 121712</td>
<td align="left">Om arkitektur</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># search SwePub for publications about timber framing in Swedish</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw"><a href="../reference/xsearch.html">xsearch</a></span>(<span class="dt">query =</span> <span class="st">"stolpverk SPR:swe"</span>, <span class="dt">database =</span> <span class="st">"swepub"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span>.<span class="op">$</span>content <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">summary =</span> <span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">    <span class="co"># generate summary snippet in markdown format</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">    <span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"[%s](%s)"</span>, identifier, <span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"%s (%s:%s)"</span>, title, type, relation)),</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">    <span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"</span><span class="ch">\n</span><span class="st">%s..."</span>, <span class="kw"><a href="https://rdrr.io/r/base/substr.html">substr</a></span>(description, <span class="dv">1</span>, <span class="dv">250</span>)))</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="st">`</span><span class="dt">Search hit summaries</span><span class="st">`</span> =<span class="st"> </span>summary) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</a></code></pre></div>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">Search hit summaries</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="Hantverk%20p%C3%A5%20Japanska?%20Om%20att%20m%C3%B6tas%20och%20utbildas%20i%20handling%20(article:Bygnadskultur)">http://swepub.kb.se/bib/swepub:oai:gup.ub.gu.se/172151</a></td>
</tr>
<tr class="even">
<td align="left">Vad skiljer en japansk stolpverkskonstruktion från en norsk? Vilka timringstraditioner förekommer på den engelska landsbygden? Och hur gör man för att lära av varandra när man samtidigt ska bygga ett hus? Det är frågor som hantverksdoktoranden Ulrik …</td>
</tr>
<tr class="odd">
<td align="left"><a href="Stolpverket%20i%20logen%20i%20Magl%C3%B6%20(article:Bebyggelsehistorisk%20tidskrift)">http://swepub.kb.se/bib/swepub:oai:gup.ub.gu.se/138736</a></td>
</tr>
<tr class="even">
<td align="left">The timber-framed parts of buildings and the technical aspects of how the buildings were constructed are rarely addressed in scientific papers on the history of built environments. In Scandinavia architects, art historians, archaeologists and ethnolo…</td>
</tr>
</tbody>
</table>
</div>
<div id="libris-searchbox" class="section level2">
<h2 class="hasAnchor">
<a href="#libris-searchbox" class="anchor"></a>LIBRIS searchbox</h2>
<p>A function provides HTML for a LIBRIS searchbox which can be integrated in HTML documents such as a chunk in an <code>rmarkdown</code> document:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/libris_searchbox_html.html">libris_searchbox_html</a></span>()</a></code></pre></div>
<!-- BEGIN LIBRIS search box -->
    <div style="padding-bottom: 10px; background: #fff url(http://libris.kb.se/images/logo_vit3.gif) no-repeat 13px 16px; width: 300px;">
      <form style="padding: 12px 0 0 100px;" method="get" target="_blank" action="http://libris.kb.se/formatQuery.jsp?" accept-charset="UTF-8" onsubmit="window.open('http://libris.kb.se/formatQuery.jsp?language=' + document.getElementById('LANG').value + '&amp;SEARCH_ALL='+ encodeURIComponent(document.getElementById('LIBRIS_SEARCH3').value),'LIBRIS'); return false;">
      <fieldset style="margin: 0; padding: 0; border: none;">
<legend style="display: none;">Search LIBRIS</legend>
      <input name="SEARCH_ALL" id="LIBRIS_SEARCH3" type="text" style="vertical-align: bottom; margin: 0; padding: 0; font-size: 11px; width: 60%;"><input type="submit" value="Search" style="vertical-align: bottom; margin: 0; padding: 0; cursor: pointer; font-size: 11px;"><input type="hidden" id="LANG" name="LANG" value="en">
</fieldset>
</form>
    </div>
    <!-- END LIBRIS search box -->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#example">Example</a></li>
      <li><a href="#libris-searchbox">LIBRIS searchbox</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Markus Skyttner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
